<!-- https://www.inflearn.com/courses/lecture?courseId=124917&unitId=10707&tab=curriculum -->
<!-- 1 ~ 10000 사이의 소수를 화면에 출력하는 프로그램 -->

<!-- 변수는 객체를 저장하기 위한 도구이다.
객체에는 상태(값)와 함수(메소드)가 들어있다.
메소드는 특정 객체에서만 동작한다.  -->

<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>title</title>
    </head>

    <body>
        <script>
            const numbers = {
                all : [],
                prime : []
            };

            // 숫자 추가 메소드
            numbers.addNumber = function(number){
                for(let i = 2; i < number; i++){
                    this.all.push(i);
                }
            }

            // 소수 판별 메소드
            numbers.spliceNonprime = function(number){
                this.prime = this.all
                for(let n = 2; n <= number; n++){
                    for(let m = 2; m <= n; m++){
                        let k = n * m;
                        // console.log(n,m,k);
                        if(k > n * n){
                            break;
                        }
                        else if(this.all.includes(k) === true){
                            for(let h = m; h <= number; h++){
                                let index = this.prime.indexOf(n * h,0);
                                if(index > -1){     // index값이 없으면 return -1
                                    this.prime.splice(index,1);
                                }
                                else{
                                    break;
                                }
                            }
                        }
                    }
                }
            }

        let number = 30;

        numbers.addNumber(number)
        console.log(numbers.all);
        numbers.spliceNonprime(number)
        console.log(numbers.prime);


        </script>
    </body>
</html>